

 
    <div class="span3" >
        


    </div>

    <div class="span6" >

        <h2 >Sign Up</h2>
        <br>
         @using (Html.BeginForm("saveUser", "Home", FormMethod.Post))
        {
        <table>
        <tr>
        <th  ><p >User Name</p></th> <th><input type=text name="name" id="UserName"/></th><th><button class="btn btn-info" id="b1">Check</button></th><th><div id="checking">checking...</div></th><th><div id="result"></div></th>
        </tr>
            
            <script>

                $(document).ready(function () {

                    $('#checking').hide();

                    $('#b1').click(function () {

                        var userName = $('#UserName').val();

                   
                        $('#checking').show();
                       
                        $.getJSON("../../Home/CheckUserName?UserName=" + userName, function (data)
                        {
                            $('#checking').hide();
                           
                            if (data) {
                                
                                $('#result').text("Invalid username");

                            }
                            else {
                                $('#result').text("Valid username");
                            }
                        });
                        return false;
                    });

                });
                </script>
        <tr>
        <th  ><p >Email</p></th> <th><input type=text name="email" id="t2"/></th>
        </tr>
        <tr>
        <th  ><p >Password</p></th> <th><input type=password name="passwd" id="t3"/></th>
        </tr>
         <tr>
        <th  ><p >Retype Password</p></th> <th><input type=password name="passwd1"id="t4" /></th>
        </tr>
        <tr>
        <th ><button class="btn btn-info" type="submit" style="margin-left:100px" onclick="return check(this)">Register</button></th>
         <th><button class="btn" style="margin-left:2px" type="button">Cancel</button></th>
        </tr>
         
        </table>
        <div id="p1" style="color:red"></div>  
        }
         <script>
             function check()
             {
                 var name = document.getElementById('UserName').value;
                 var email = document.getElementById('t2').value;
                 var password = document.getElementById('t3').value;
                 var newPassword = document.getElementById('t4').value;
                 var err = document.getElementById('p1');
                 if (name.length == 0)
                 {
                     err.innerText = "*name field naver be empty.";
                    
                     return false;
                 }
                 else if (email.length == 0)
                 {
                     err.innerText = "*email field naver be empty.";
                    
                     return false;
                 }
                 else if (password.length == 0) {
                     err.innerText = "*password field naver be empty.";
                     return false;
                 }
                 else if (newPassword.length == 0) {
                     err.innerText = "*Retype Password field naver be empty.";
                    
                     return false;
                 }
                 else if (password != newPassword) {
                     err.innerText = "*password and retype password failed must be same.";
                    
                     return false;
                 }
                 else {
                     return true;
                 }
             }
            </script>

    </div>
  
   